(this.webpackJsonpfibare=this.webpackJsonpfibare||[]).push([[0],{231:function(e,t,n){},233:function(e,t,n){},388:function(e,t,n){},421:function(e,t,n){"use strict";n.r(t);var c=n(15),r=n(4),a=n(1),o=n.n(a),i=n(27),s=n.n(i),d=(n(230),n(231),n(68)),u=n(10),l=n(54),j=(n(232),n(233),n(69));n(234),n(422);j.a.initializeApp({apiKey:"AIzaSyD2kJmyE9IuE_wumYVW53R-i78RIYxnMYY",authDomain:"fibare-27779.firebaseapp.com",projectId:"fibare-27779",storageBucket:"fibare-27779.appspot.com",messagingSenderId:"403727482050",appId:"1:403727482050:web:b87bbe329b877517a30f5b",measurementId:"G-S24RTX6YTD"}),j.a.firestore().settings({timestampsInSnapshots:!0});j.a.firestore();var b=j.a,O=n(32),h=n(427),f=n(429),g="SUCESSFUL_LOGIN",x="FAILURE_LOGIN",m="LOGOUT",p="ADD_TODO",v="DELETE_TODO",T="TOGGLE_TODO",D=function(){var e=Object(O.d)((function(e){return e.auth})),t=Object(O.c)();function n(){var e=new b.auth.GoogleAuthProvider;b.auth().signInWithPopup(e).then((function(e){var n=e.user.uid,c=e.user.displayName,r=e.user.email,a=e.user.photoURL;t(c&&r&&a?{type:g,payload:{uid:n,username:c,email:r,photo:a}}:{type:x})}))}function c(){t({type:m})}return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(h.a,{expand:"lg",variant:"light",bg:"light",children:[Object(r.jsx)(h.a.Brand,{children:Object(r.jsx)(d.b,{to:"/",children:"Fibare"})}),e.login?Object(r.jsx)(f.a,{onClick:function(){c()},children:"Logout"}):Object(r.jsx)(f.a,{variant:"light",className:"text-danger",onClick:function(){n()},children:"Google Login"})]})})},y=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{style:{color:"#aaaaaa",textAlign:"center"},children:"judlup.dev"})})},E=n(223),I=n(220),F=n.n(I),S=n(28),R=n(33),N=n(425),_=n(426),w=n(221),L=n(428),k=(n(388),Object(S.d)(Object(O.b)((function(e){return{todos:e.firestore.ordered.todos,auth:e.auth,uid:e.firebase.auth.uid}}),(function(e){return{addTodo:function(t){return e(function(e){return function(t,n,r){(0,r.getFirebase)().firestore().collection("todos").add(Object(c.a)({},e)).then((function(){t({type:p,payload:e})})).catch((function(e){console.log("ADD_TODO ERROR: ",e)}))}}(t))},deleteTodo:function(t){return e(function(e){return function(t,n,c){(0,c.getFirebase)().firestore().collection("todos").doc(e.id).delete().then((function(){t({type:v})})).catch((function(e){console.log("DELETE_TODO ERROR: ",e)}))}}(t))},toggleTodo:function(t){return e(function(e){return function(t,n,r){(0,r.getFirebase)().firestore().collection("todos").doc(e.id).set(Object(c.a)(Object(c.a)({},e),{},{done:!e.done}),{merge:!0}).then((function(){t({type:T,todo:e})})).catch((function(e){console.log("TOGGLE_TODO ERROR: ",e)}))}}(t))}}})),Object(R.firestoreConnect)((function(e){return[{collection:"todos",orderBy:["createdAt","desc"]}]})))((function(e){var t=Object(O.d)((function(e){return e.auth})),n=e.todos,c=Object(a.useState)(""),o=Object(E.a)(c,2),i=o[0],s=o[1];return Object(r.jsx)(r.Fragment,{children:t.login?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(N.a,{className:"container",children:Object(r.jsxs)(_.a,{children:[Object(r.jsxs)(w.a,{md:12,children:[Object(r.jsx)("br",{}),Object(r.jsx)("h4",{className:"text-muted text-center",children:"Fibare ToDo"}),Object(r.jsx)("hr",{})]}),Object(r.jsx)(w.a,{md:12,children:Object(r.jsx)(L.a.Group,{children:Object(r.jsx)(L.a.Control,{size:"lg",type:"text",value:i,placeholder:"Enter Todo here... [Press Enter]",onChange:function(e){var t=e.target,n=(t.name,t.value);s(n)},onKeyDown:function(n){if("Enter"===n.key){var c={user:t.user.uid,title:i,done:!1,createdAt:Date.now()};e.addTodo(c),s("")}},autoComplete:"off",autoFocus:!0})})}),Object(r.jsx)(w.a,{md:12,children:Object(r.jsx)("div",{children:n?Object(r.jsx)("ul",{className:"list-groups",children:n.map((function(t,n){return Object(r.jsxs)("li",{className:"list-group-item",children:[Object(r.jsx)(L.a.Check,{type:"checkbox",onChange:function(){return n=t,void e.toggleTodo(n);var n},checked:t.done,label:t.title}),Object(r.jsx)("small",{className:"home-date-todo",children:F()(t.createdAt).calendar()}),Object(r.jsx)(f.a,{onClick:function(){return n=t,void e.deleteTodo(n);var n},variant:"outline-secondary",size:"sm",className:"home-delete-btn",children:"\xd7"})]},n)}))}):"Nada"})})]})})}):Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(N.a,{className:"container",children:Object(r.jsx)(_.a,{children:Object(r.jsxs)(w.a,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("h4",{className:"text-muted text-center",children:"Sign In and ToDo all"}),Object(r.jsx)("hr",{})]})})})})})})));function A(){return Object(r.jsx)(d.a,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)(l.a,{}),Object(r.jsx)(D,{}),Object(r.jsx)(u.c,{children:Object(r.jsx)(u.a,{exac:!0,path:"/",component:k})}),Object(r.jsx)(y,{})]})})}var C=n(53),G={login:null!=localStorage.getItem("userData"),user:JSON.parse(localStorage.getItem("userData"))},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return localStorage.setItem("userData",JSON.stringify(t.payload)),Object(c.a)(Object(c.a)({},e),{},{login:!0,user:t.payload});case x:return localStorage.removeItem("userData"),Object(c.a)(Object(c.a)({},e),{},{login:!1,user:""});case m:return b.auth().signOut().then((function(){localStorage.removeItem("userData")})),Object(c.a)(Object(c.a)({},e),{},{login:!1,user:""});default:return e}},J={},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return l.b.success("Todo created successful"),e;case v:return l.b.warn("Todo deleted successful"),Object(c.a)({},e);case T:return l.b.info("Todo updated successful"),e;default:return e}},Y=Object(S.c)({firebase:R.firebaseReducer,firestore:C.firestoreReducer,auth:U,todos:P}),z=n(222),B=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.d,Object(S.e)(Y,Object(S.a)(z.a.withExtraArgument({getFirebase:R.getFirebase,getFirestore:C.getFirestore}))));window.store=B;var M={firebase:b,config:{},dispatch:B.dispatch,createFirestoreInstance:C.createFirestoreInstance};s.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(O.a,{store:B,children:Object(r.jsx)(R.ReactReduxFirebaseProvider,Object(c.a)(Object(c.a)({},M),{},{children:Object(r.jsx)(A,{})}))})}),document.getElementById("root"))}},[[421,1,2]]]);
//# sourceMappingURL=main.4ec0e62a.chunk.js.map